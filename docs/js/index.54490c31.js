(function(t){function e(e){for(var r,i,s=e[0],l=e[1],c=e[2],u=0,p=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,s=1;s<a.length;s++){var l=a[s];0!==o[l]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},o={index:0},n=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/ripe-dns-measurements/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"65bb":function(t,e,a){"use strict";a("fde9")},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{staticClass:"px-4",attrs:{color:"primary",dark:"",extended:"",flat:"",absolute:""}},[a("v-icon",{staticClass:"mr-4"},[t._v("mdi-dns-outline")]),a("v-toolbar-title",[a("strong",[t._v("Visualizador de análise de tráfego DNS")]),t._v(" · RIPE Atlas ")]),a("v-spacer"),a("v-btn",{attrs:{href:"https://github.com/adrianbrs/ripe-dns-measurements",target:"_blank"}},[t._v(" Código Fonte "),a("v-icon",{attrs:{right:""}},[t._v("mdi-github")])],1)],1),a("v-card",{staticClass:"main-card mx-auto",attrs:{"max-width":"900",width:"100%"}},[a("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-tab",t._g({attrs:{href:"#tab-search"}},r),[a("v-icon",[t._v("mdi-magnify")])],1)]}}])},[t._v(" Busque uma medição através de um ID ")]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-tab",t._g({attrs:{href:"#tab-upload"}},r),[a("v-icon",[t._v("mdi-cloud-upload")])],1)]}}])},[t._v(" Faça upload do resultado da medição (JSON) ")])],1),a("v-divider"),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-search"}},[a("v-card-text",[a("app-fetcher",{attrs:{"do-search":t.doSearch},on:{load:t.onLoad,unload:t.onUnload,progress:t.onProgress},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)],1),a("v-tab-item",{attrs:{value:"tab-upload"}},[a("v-card-text",[a("app-uploader",{on:{load:t.onLoad,unload:t.onUnload,progress:t.onProgress},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)],1)],1)],1),a("v-main",[a("v-container",{staticClass:"main-container",attrs:{"fill-height":""}},[a("v-fade-transition",{attrs:{mode:"out-in"}},[t.loading?a("v-row",[a("v-col",{staticClass:"text-center"},[a("v-progress-circular",{attrs:{size:"150",color:"primary",indeterminate:""}},[a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"d-flex"},[a("small",{staticClass:"mr-3"},[t._v("IPv4:")]),a("small",[t._v(t._s(t.progressText4))])]),a("div",{staticClass:"d-flex"},[a("small",{staticClass:"mr-3"},[t._v("IPv6:")]),a("small",[t._v(t._s(t.progressText6))])])])])],1)],1):t.emptyResults?a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("v-icon",{staticClass:"mb-6",attrs:{"x-large":""}},[t._v("mdi-code-json")]),a("h2",[t._v("Selecione uma medição para visualizar.")])],1)],1):a("app-summary",{attrs:{results:t.results}})],1)],1)],1),a("v-footer",{attrs:{app:"",padless:""}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("span",[t._v(" Adrian Cerbaro · Universidade de Passo Fundo · 2021/2 ")]),t._v(" · "),a("a",{attrs:{href:"https://github.com/adrianbrs",target:"_blank"}},[t._v("GitHub")])])],1),a("v-snackbar",{attrs:{top:"",color:t.snackbarData.color},scopedSlots:t._u([{key:"action",fn:function(e){var r=e.attrs;return[a("v-btn",t._b({attrs:{text:""},on:{click:function(e){t.snackbarData.show=!1}}},"v-btn",r,!1),[t._v("Ok")])]}}]),model:{value:t.snackbarData.show,callback:function(e){t.$set(t.snackbarData,"show",e)},expression:"snackbarData.show"}},[t._v(" "+t._s(t.snackbarData.message)+" ")])],1)},n=[],i=a("d4ec"),s=a("bee2"),l=a("262e"),c=a("2caf"),d=(a("b0c0"),a("b680"),a("9ab4")),u=a("1b40"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-uploader-input",{staticClass:"mb-2",attrs:{loading:t.loading,"start-upload":t.startUpload,"ip-version":4},on:{"update:loading":function(e){t.loading=e},"update:startUpload":function(e){t.startUpload=e},"update:start-upload":function(e){t.startUpload=e},progress:t.onProgress,load:t.onLoad},model:{value:t.filev4,callback:function(e){t.filev4=e},expression:"filev4"}}),a("app-uploader-input",{attrs:{loading:t.loading,"start-upload":t.startUpload,"ip-version":6},on:{"update:loading":function(e){t.loading=e},"update:startUpload":function(e){t.startUpload=e},"update:start-upload":function(e){t.startUpload=e},progress:t.onProgress,load:t.onLoad},model:{value:t.filev6,callback:function(e){t.filev6=e},expression:"filev6"}}),a("div",{staticClass:"text-right d-block"},[a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({staticClass:"mt-2",attrs:{loading:t.loading,disabled:!t.filev4||!t.filev6||t.loading||t.uploaded},on:{click:function(e){return t.upload()}}},r),[t._v(" Enviar "),a("v-icon",{attrs:{right:""}},[t._v("mdi-upload")])],1)]}}])},[t._v(" Clique para enviar ")])],1)],1)},v=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex"},[a("v-file-input",{attrs:{label:"Medição "+t.fullIPVersion+" (JSON)",placeholder:"Resultado da medição "+t.fullIPVersion+" em JSON","prepend-icon":"mdi-code-json",accept:"application/json",error:this.error,messages:this.error,disabled:t.uploading,success:t.uploaded,"hide-details":"auto",dense:"",outlined:""},on:{change:t.onChange},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)},h=[],b=(a("a9e3"),function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.error=null,t.uploaded=!1,t}return Object(s["a"])(a,[{key:"uploading",get:function(){return!!this.loading},set:function(t){this.$emit("update:loading",t)}},{key:"file",get:function(){return this.value},set:function(t){this.$emit("input",t)}},{key:"fullIPVersion",get:function(){return"IPv".concat(this.ipVersion)}},{key:"watchFile",value:function(t){t||this.$emit("unload",this.ipVersion),this.uploaded=!1}},{key:"watchStartUpload",value:function(t){t&&this.upload()}},{key:"created",value:function(){var t=this;this.reader=new FileReader,this.reader.addEventListener("load",(function(e){return t.onLoad(e)})),this.reader.addEventListener("loadstart",(function(){t.uploading=!0})),this.reader.addEventListener("loadend",(function(){t.uploading=!1})),this.reader.addEventListener("abort",(function(){t.uploading=!1})),this.reader.addEventListener("progress",(function(e){t.$emit("progress",t.ipVersion,e.loaded)}))}},{key:"upload",value:function(){this.value&&this.reader.readAsText(this.value)}},{key:"success",value:function(t){this.$emit("load",this.ipVersion,t),this.$emit("update:startUpload",!1),this.uploaded=!0}},{key:"onChange",value:function(t){t||(this.error=null,this.uploaded=!1)}},{key:"onLoad",value:function(t){var e,a=null===(e=t.target)||void 0===e?void 0:e.result;if(a)try{var r=JSON.parse(a);this.success(r)}catch(o){console.error(o),this.error="O arquivo enviado não é um JSON válido."}else this.error="Algo deu errado no envio do arquivo, tente novamente."}}]),a}(u["e"]));Object(d["a"])([Object(u["c"])(Blob)],b.prototype,"value",void 0),Object(d["a"])([Object(u["c"])(Boolean)],b.prototype,"loading",void 0),Object(d["a"])([Object(u["c"])({type:Number,default:4})],b.prototype,"ipVersion",void 0),Object(d["a"])([Object(u["c"])(Boolean)],b.prototype,"startUpload",void 0),Object(d["a"])([Object(u["f"])("file")],b.prototype,"watchFile",null),Object(d["a"])([Object(u["f"])("startUpload",{immediate:!0})],b.prototype,"watchStartUpload",null),b=Object(d["a"])([u["a"]],b);var m=b,g=m,y=a("2877"),k=a("6544"),O=a.n(k),_=a("23a7"),j=Object(y["a"])(g,f,h,!1,null,null,null),x=j.exports;O()(j,{VFileInput:_["a"]});var w=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.startUpload=!1,t.uploaded4=!1,t.uploaded6=!1,t.result4=null,t.result6=null,t.filev4=null,t.filev6=null,t}return Object(s["a"])(a,[{key:"loading",get:function(){return!!this.value},set:function(t){this.$emit("input",t)}},{key:"uploaded",get:function(){return this.uploaded4&&this.uploaded6}},{key:"watchFile4",value:function(){this.uploaded4=!1}},{key:"watchFile6",value:function(){this.uploaded6=!1}},{key:"onProgress",value:function(t,e){this.$emit("progress",t,e)}},{key:"onLoad",value:function(t,e){var a=this;this.$emit("load:ipv".concat(t),e),this["result".concat(t)]=e,this["uploaded".concat(t)]=!0,this.$nextTick((function(){if(a.uploaded){var t={ipv4:a.result4,ipv6:a.result6};a.$emit("load",t),a.loading=!1}}))}},{key:"upload",value:function(){this.startUpload||(this.$emit("load",null),this.startUpload=!0)}}]),a}(u["e"]);Object(d["a"])([Object(u["c"])()],w.prototype,"value",void 0),Object(d["a"])([Object(u["f"])("filev4")],w.prototype,"watchFile4",null),Object(d["a"])([Object(u["f"])("filev6")],w.prototype,"watchFile6",null),w=Object(d["a"])([Object(u["a"])({components:{AppUploaderInput:x}})],w);var C=w,S=C,P=a("8336"),V=a("132d"),D=a("3a2f"),I=Object(y["a"])(S,p,v,!1,null,null,null),F=I.exports;O()(I,{VBtn:P["a"],VIcon:V["a"],VTooltip:D["a"]});var R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"############",expression:"'############'"}],attrs:{label:"ID da medição (IPv4)",rules:t.rules,disabled:t.loading,placeholder:"00000","append-icon":"mdi-identifier","hide-details":"auto",outlined:""},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-datetime-picker",{attrs:{label:"Data inicial",disabled:t.loading,"date-format":t.dateFormat,"time-format":t.timeFormat,"text-field-props":t.textProps,"date-picker-props":t.dateProps,"time-picker-props":t.timeProps,datetime:t.startDate},on:{"update:datetime":function(e){t.startDate=e},input:t.datesChange},scopedSlots:t._u([{key:"dateIcon",fn:function(){return[a("v-icon",[t._v("mdi-calendar")])]},proxy:!0},{key:"timeIcon",fn:function(){return[a("v-icon",[t._v("mdi-clock-outline")])]},proxy:!0},{key:"actions",fn:function(e){var r=e.parent;return[a("v-btn",{attrs:{color:"success",text:""},on:{click:r.okHandler}},[t._v("Ok")])]}}]),model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-datetime-picker",{attrs:{label:"Data final",disabled:t.loading,"date-format":t.dateFormat,"time-format":t.timeFormat,"text-field-props":t.textProps,"date-picker-props":t.dateProps,"time-picker-props":t.timeProps},on:{input:t.datesChange},scopedSlots:t._u([{key:"dateIcon",fn:function(){return[a("v-icon",[t._v("mdi-calendar")])]},proxy:!0},{key:"timeIcon",fn:function(){return[a("v-icon",[t._v("mdi-clock-outline")])]},proxy:!0},{key:"actions",fn:function(e){var r=e.parent;return[a("v-btn",{attrs:{color:"success",text:""},on:{click:r.okHandler}},[t._v("Ok")])]}}]),model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("span",[t._v("Período: "+t._s(t.dateRange))])]),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{color:t.loading?"red":"primary",block:"",disabled:!t.id||!t.startDate||!t.endDate},on:{click:function(e){return t.search()}}},[t.loading?[a("v-progress-circular",{staticClass:"mr-2",attrs:{indeterminate:"",color:"white",size:"22",width:"2"}}),t._v(" Cancelar ")]:[a("v-icon",{attrs:{left:""}},[t._v("mdi-magnify")]),t._v(" Buscar ")]],2)],1)],1)},B=[],L=a("3835"),$=a("1da1"),T=(a("96cf"),a("ac1f"),a("841c"),a("d3b7"),a("3ca3"),a("ddb0"),a("bc3a")),A=a.n(T),U=a("5a0c"),E=a.n(U),M="https://atlas.ripe.net/api/v2/measurements",N=10,H=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.id="10313",t.dateRange="-",t.rules=[function(t){return!!t||"ID obrigatório"}],t.controller=new AbortController,t.dateFormat="dd/MM/yyyy",t.timeFormat="HH:mm:ss",t.dateProps={locale:"pt-BR"},t.timeProps={useSeconds:!0,format:"24hr"},t.textProps={appendIcon:"mdi-calendar-outline",outlined:!0,hideDetails:"auto"},t}return Object(s["a"])(a,[{key:"loading",get:function(){return!!this.value},set:function(t){this.$emit("input",t)}},{key:"watchDoSearch",value:function(t){t&&this.search()}},{key:"datesChange",value:function(){this.dateRange=this.getDateRange()}},{key:"getDateRange",value:function(){var t=E()(this.endDate).diff(this.startDate);return E.a.duration(t).format("D[d] H[h] m[m] s[s]")}},{key:"created",value:function(){var t=E()(),e=t.subtract(E.a.duration(10,"minutes").asSeconds(),"seconds");this.startDate=e.toDate(),this.endDate=t.toDate(),this.dateRange=this.getDateRange()}},{key:"mounted",value:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.doSearch){t.next=3;break}return t.next=3,this.search();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"success",value:function(t){this.$emit("load",t)}},{key:"cancel",value:function(){this.controller.abort(),this.controller=new AbortController,this.snackbar("Busca cancelada")}},{key:"getV6IdFromV4",value:function(t){return String(parseInt(t)+1e3)}},{key:"fetch",value:function(t,e){var a=this;return A.a.get("".concat(M,"/").concat(t,"/results"),{params:{start:this.startDate,stop:this.endDate,format:"json"},signal:this.controller.signal,onDownloadProgress:function(t){a.$emit("progress",e,t.loaded)}}).then((function(t){var r=t.data;return a.$emit("load:ipv".concat(e),r),r})).catch((function(e){var r;return"404"===String(null===(r=e.response)||void 0===r?void 0:r.status)&&a.snackbar("Medição não encontrada: "+t,"error"),console.error(e),Promise.reject(e)}))}},{key:"search",value:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,r,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.loading){t.next=3;break}return this.cancel(),t.abrupt("return");case 3:if(!(this.id&&this.startDate&&this.endDate)){t.next=14;break}if(e=E()(this.startDate).diff(this.endDate,"days"),!(e>N)){t.next=8;break}return this.snackbar("O limite máximo em dias é "+N,"error"),t.abrupt("return");case 8:return this.$emit("load",null),this.loading=!0,a=this.fetch(this.id,4),r=this.fetch(this.getV6IdFromV4(this.id),6),t.next=14,Promise.all([a,r]).then((function(t){var e=Object(L["a"])(t,2),a=e[0],r=e[1],n={ipv4:a,ipv6:r};o.$emit("load",n)})).finally((function(){o.loading=!1}));case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),a}(u["e"]);Object(d["a"])([Object(u["c"])(Boolean)],H.prototype,"value",void 0),Object(d["a"])([Object(u["c"])(Boolean)],H.prototype,"doSearch",void 0),Object(d["a"])([Object(u["b"])()],H.prototype,"snackbar",void 0),Object(d["a"])([Object(u["f"])("doSearch")],H.prototype,"watchDoSearch",null),H=Object(d["a"])([u["a"]],H);var z=H,J=z,q=a("62ad"),G=a("490a"),K=a("0fd9"),W=a("8654"),Y=Object(y["a"])(J,R,B,!1,null,null,null),Z=Y.exports;O()(Y,{VBtn:P["a"],VCol:q["a"],VIcon:V["a"],VProgressCircular:G["a"],VRow:K["a"],VTextField:W["a"]});var Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"table-thead, divider, table-row",loading:t.loading}},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Entradas IPv4")]),a("th",{staticClass:"text-left"},[t._v("Entradas IPv6")]),a("th",{staticClass:"text-left"},[t._v("ID Medição")]),a("th",{staticClass:"text-left"},[t._v("Nome Medição")]),a("th",{staticClass:"text-left"},[t._v("End. Destino")]),a("th",{staticClass:"text-left"},[t._v("Porta Destino")]),a("th",{staticClass:"text-left"},[t._v("Tipo")])])]),a("tbody",[a("tr",[a("td",[t._v(t._s(t.results.ipv4.length||"-"))]),a("td",[t._v(t._s(t.results.ipv6.length||"-"))]),a("td",[t._v(t._s(t.sample.msm_id||"-"))]),a("td",[t._v(t._s(t.sample.msm_name||"-"))]),a("td",[t._v(t._s(t.sample.dst_addr||"-"))]),a("td",[t._v(t._s(t.sample.dst_port||"-"))]),a("td",[t._v(t._s(t.sample.type||"-"))])])])]},proxy:!0}])})],1)],1),a("v-col",{attrs:{cols:"12",lg:"6",xl:"4"}},[a("app-probes-by-location",{attrs:{result:t.results?t.results.ipv4:null,"ip-version":4}})],1),a("v-col",{attrs:{cols:"12",lg:"6",xl:"4"}},[a("app-probes-by-location",{attrs:{result:t.results?t.results.ipv6:null,"ip-version":6}})],1),a("v-col",{attrs:{cols:"12",lg:"12",xl:"4"}},[a("app-probes-dual-stack",{attrs:{results:t.results}})],1)],1)},X=[],tt=(a("4e827"),a("fb6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"card",loading:t.loading}},[a("v-card",[a("highcharts",{attrs:{options:t.chartOptions}})],1)],1)}),et=[],at=a("b85c"),rt=(a("d81d"),a("4fadc"),a("1276"),a("4452")),ot=a.n(rt),nt=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.loading=!0,t.chartOptions={chart:{type:"pie"},title:{text:"1. Distribuição das Probes por localidade: IPv".concat(t.ipVersion)},tooltip:{headerFormat:"",pointFormat:"{point.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{type:"pie",name:"Locais",colorByPoint:!0,data:[]}]},t}return Object(s["a"])(a,[{key:"watchResult",value:function(){this.updateSeries()}},{key:"updateSeries",value:function(){this.loading=!0;var t=this.chartOptions.series[0];if(this.result){var e,a={},r=Object(at["a"])(this.result);try{for(r.s();!(e=r.n()).done;){var o,n,i,s,l=e.value,c=null===(o=l.result)||void 0===o||null===(n=o.answers)||void 0===n||null===(i=n[0])||void 0===i||null===(s=i.RDATA)||void 0===s?void 0:s[0];if(c){var d,u=this.getLocation(c);a[u]=(null!==(d=a[u])&&void 0!==d?d:0)+1}}}catch(v){r.e(v)}finally{r.f()}var p=Object.entries(a).map((function(t){var e=Object(L["a"])(t,2),a=e[0],r=e[1];return{name:a,y:r}}));t.data=p,this.loading=!1}else t.data=[]}},{key:"getLocation",value:function(t){var e,a,r;return null!==(e=null===(a=t.split("."))||void 0===a||null===(r=a[1])||void 0===r?void 0:r.toUpperCase())&&void 0!==e?e:null}}]),a}(u["e"]);Object(d["a"])([Object(u["c"])({type:[Array]})],nt.prototype,"result",void 0),Object(d["a"])([Object(u["c"])({type:Number,default:4})],nt.prototype,"ipVersion",void 0),Object(d["a"])([Object(u["f"])("result",{immediate:!0})],nt.prototype,"watchResult",null),nt=Object(d["a"])([Object(u["a"])({components:{highcharts:rt["Chart"]}})],nt);var it=nt,st=it,lt=a("b0af"),ct=a("3129"),dt=Object(y["a"])(st,tt,et,!1,null,null,null),ut=dt.exports;O()(dt,{VCard:lt["a"],VSkeletonLoader:ct["a"]});var pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"card",height:"400",loading:t.loading}},[a("v-card",{staticClass:"d-flex justify-center"},[a("highcharts",{attrs:{options:t.chartOptions}})],1)],1)},vt=[],ft=a("2909"),ht=(a("6062"),a("4de4"),a("99af"),a("a630"),a("4ec9"),function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.loading=!0,t.chartOptions={chart:{type:"pie"},title:{text:"2. Respostas IPv4 e IPv6"},tooltip:{headerFormat:"",pointFormat:"{point.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{type:"pie",name:"Locais",colorByPoint:!0,data:[]}]},t}return Object(s["a"])(a,[{key:"watchResult",value:function(){this.updateSeries()}},{key:"updateSeries",value:function(){this.loading=!0;var t=this.chartOptions.series[0];if(this.results){var e,a=this.results,r=a.ipv4,o=a.ipv6,n=new Set,i=new Set(r.map((function(t){return t.prb_id}))),s=new Set(o.map((function(t){return t.prb_id}))),l=r.filter((function(t){return s.has(t.prb_id)})),c=o.filter((function(t){return i.has(t.prb_id)})),d=new Set([].concat(Object(ft["a"])(Array.from(i)),Object(ft["a"])(Array.from(s)))),u=new Map,p=Object(at["a"])(l);try{for(p.s();!(e=p.n()).done;){var v,f,h,b,m=e.value;u.has(m.prb_id)||u.set(m.prb_id,new Set);var g=null===(v=m.result)||void 0===v||null===(f=v.answers)||void 0===f||null===(h=f[0])||void 0===h||null===(b=h.RDATA)||void 0===b?void 0:b[0];if(g){var y=this.getLocation(g);u.get(m.prb_id).add(y)}}}catch(D){p.e(D)}finally{p.f()}var k,O=Object(at["a"])(c);try{for(O.s();!(k=O.n()).done;){var _,j,x,w,C=k.value,S=null===(_=C.result)||void 0===_||null===(j=_.answers)||void 0===j||null===(x=j[0])||void 0===x||null===(w=x.RDATA)||void 0===w?void 0:w[0];if(S){var P=this.getLocation(S),V=u.get(C.prb_id);V&&V.has(P)&&n.add(C.prb_id)}}}catch(D){O.e(D)}finally{O.f()}t.data=[{name:"IPv4 == IPv6",y:n.size},{name:"IPv4 != IPv6",y:d.size-n.size}],this.loading=!1}else t.data=[]}},{key:"getLocation",value:function(t){var e,a,r;return null!==(e=null===(a=t.split("."))||void 0===a||null===(r=a[1])||void 0===r?void 0:r.toUpperCase())&&void 0!==e?e:null}}]),a}(u["e"]));Object(d["a"])([Object(u["c"])({type:[Object]})],ht.prototype,"results",void 0),Object(d["a"])([Object(u["f"])("results",{immediate:!0})],ht.prototype,"watchResult",null),ht=Object(d["a"])([Object(u["a"])({components:{highcharts:rt["Chart"]}})],ht);var bt=ht,mt=bt,gt=Object(y["a"])(mt,pt,vt,!1,null,null,null),yt=gt.exports;O()(gt,{VCard:lt["a"],VSkeletonLoader:ct["a"]});var kt=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.loading=!0,t.sample=null,t}return Object(s["a"])(a,[{key:"watchResult",value:function(t){this.processResult(t)}},{key:"processResult",value:function(t){if(this.loading=!0,null!==t&&void 0!==t&&t.ipv4&&null!==t&&void 0!==t&&t.ipv6){var e=t.ipv4;if(!e||!e.length)return this.sample=null,void(this.loading=!1);var a=e.slice().sort((function(t,e){var a=0;return t.msm_id&&!e.msm_id?a--:!t.msm_id&&e.msm_id&&a++,t.msm_name&&!e.msm_name?a--:!t.msm_name&&e.msm_name&&a++,t.dst_addr&&!e.dst_addr?a--:!t.dst_addr&&e.dst_addr&&a++,t.dst_port&&!e.dst_port?a--:!t.dst_port&&e.dst_port&&a++,t.type&&!e.type?a--:!t.type&&e.type&&a++,a}));this.loading=!1,this.sample=a[0]}}}]),a}(u["e"]);Object(d["a"])([Object(u["c"])({type:Object})],kt.prototype,"results",void 0),Object(d["a"])([Object(u["f"])("results",{immediate:!0})],kt.prototype,"watchResult",null),kt=Object(d["a"])([Object(u["a"])({components:{AppProbesByLocation:ut,AppProbesDualStack:yt}})],kt);var Ot=kt,_t=Ot,jt=a("1f4f"),xt=Object(y["a"])(_t,Q,X,!1,null,null,null),wt=xt.exports;O()(xt,{VCol:q["a"],VRow:K["a"],VSimpleTable:jt["a"],VSkeletonLoader:ct["a"]});var Ct=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.name="App",t.tab="upload",t.loading=!1,t.progress4=0,t.progress6=0,t.doSearch=!0,t.snackbarData={show:!1,message:null,color:null},t.results=null,t}return Object(s["a"])(a,[{key:"progressText4",get:function(){return this.formatBytes(this.progress4)}},{key:"progressText6",get:function(){return this.formatBytes(this.progress6)}},{key:"emptyResults",get:function(){var t,e,a,r;return!(null!==(t=this.results)&&void 0!==t&&null!==(e=t.ipv4)&&void 0!==e&&e.length)||!(null!==(a=this.results)&&void 0!==a&&null!==(r=a.ipv6)&&void 0!==r&&r.length)}},{key:"watchLoading",value:function(t){t&&(this.progress4=this.progress6=0)}},{key:"snackbar",value:function(t,e){this.snackbarData={show:!0,message:t,color:e}}},{key:"onLoad",value:function(t){if(this.doSearch=!1,t&&t.ipv4&&t.ipv6&&!t.ipv4.length&&!t.ipv6.length)this.snackbar("Nenhuma entrada encontrada.");else for(var e in t){var a=t[e],r="IPv".concat(e.substring(3));t[e]?a.length||this.snackbar("Nenhuma entrada encontrada em ".concat(r)):this.snackbar("Algo deu errado ao carregar os resultados em ".concat(r))}this.results=t}},{key:"onUnload",value:function(t){this.results["ipv".concat(t)]=null,this["progress".concat(t)]=0}},{key:"onProgress",value:function(t,e){this["progress".concat(t)]=e}},{key:"formatBytes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===t)return"0 Bytes";var a=1024,r=e<0?0:e,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(t)/Math.log(a));return parseFloat((t/Math.pow(a,n)).toFixed(r))+" "+o[n]}}]),a}(u["e"]);Object(d["a"])([Object(u["f"])("loading")],Ct.prototype,"watchLoading",null),Object(d["a"])([Object(u["d"])()],Ct.prototype,"snackbar",null),Ct=Object(d["a"])([Object(u["a"])({components:{AppUploader:F,AppFetcher:Z,AppSummary:wt},provide:function(){return{snackbar:this.showSnack}}})],Ct);var St=Ct,Pt=St,Vt=(a("65bb"),a("7496")),Dt=a("40dc"),It=a("99d9"),Ft=a("a523"),Rt=a("ce7e"),Bt=a("0789"),Lt=a("553a"),$t=a("f6c4"),Tt=a("2db4"),At=a("2fa4"),Ut=a("71a3"),Et=a("c671"),Mt=a("fe57"),Nt=a("aac8"),Ht=a("2a7f"),zt=Object(y["a"])(Pt,o,n,!1,null,"3bb38649",null),Jt=zt.exports;O()(zt,{VApp:Vt["a"],VAppBar:Dt["a"],VBtn:P["a"],VCard:lt["a"],VCardText:It["b"],VCol:q["a"],VContainer:Ft["a"],VDivider:Rt["a"],VFadeTransition:Bt["b"],VFooter:Lt["a"],VIcon:V["a"],VMain:$t["a"],VProgressCircular:G["a"],VRow:K["a"],VSnackbar:Tt["a"],VSpacer:At["a"],VTab:Ut["a"],VTabItem:Et["a"],VTabs:Mt["a"],VTabsItems:Nt["a"],VToolbarTitle:Ht["a"],VTooltip:D["a"]});var qt=a("f309"),Gt=a("fcf4");r["default"].use(qt["a"]);var Kt=new qt["a"]({icons:{iconfont:"mdi"},theme:{dark:!0,themes:{dark:{primary:Gt["a"].green}}}}),Wt=a("ad24");r["default"].use(Wt["a"]);var Yt=a("b6d0");r["default"].directive("mask",Yt["a"]);var Zt=a("ea7f"),Qt=a.n(Zt);r["default"].use(ot.a),Qt.a.setOptions({chart:{backgroundColor:null,plotBackgroundColor:null,plotBorderColor:null,plotShadow:!1,spacing:[28,28,32,28]},title:{align:"center",margin:36,style:{color:"#fff",fontWeight:"bold"}},legend:{itemStyle:{color:"#CCC"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#444"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.75)",style:{color:"#F0F0F0"}},plotOptions:{pie:{dataLabels:{color:"#fff"}}},credits:{enabled:!1}});var Xt=a("d772"),te=a.n(Xt),ee=a("4208"),ae=a.n(ee);E.a.extend(te.a),E.a.extend(ae.a),r["default"].config.productionTip=!1,new r["default"]({vuetify:Kt,render:function(t){return t(Jt)}}).$mount("#app")},fde9:function(t,e,a){}});
//# sourceMappingURL=index.54490c31.js.map